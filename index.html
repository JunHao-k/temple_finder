<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <!-- Leaflet script -->
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
    integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
    crossorigin="">
    </script>

  <!-- Marker Clustering script -->
  <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>

  <!-- Fontawesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="stylesheet" href="index.css" />

  <title>Looking for temples?</title>
</head>

<body>
  <nav class="navbar  navbar-default navbar-static-top navbar-expand-xl navbar-dark bg-dark" class='container-fluid'>
    <div class="container-fluid">
      <div class="navbar-brand">
        <img src="./images/brand.png" width="60px" height="60px" />
      </div>
      <!-- social link -->
      <a class="nav-link d-none d-lg-block d-xl-none" href="https://www.facebook.com/" target="_blank"><i
          class="fa-brands fa-facebook"></i></a>

      <a class="nav-link d-none d-lg-block d-xl-none" href="https://www.instagram.com/" target="_blank"><i
          class="fa-brands fa-instagram"></i></i></a>

      <a class="nav-link d-none d-lg-block d-xl-none" href="https://twitter.com/" target="_blank"><i
          class="fa-brands fa-twitter"></i></a>

      <a class="nav-link d-none d-lg-block d-xl-none" href="https://www.pinterest.com/" target="_blank"><i
          class="fa-brands fa-pinterest"></i></a>

      <!-- collapse button -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id = "searchFn">
        <div id = "searchInput">
          <input class="form-control me-2" id = "search-bar" type="search" placeholder="Temple postal code" aria-label="Search"/>
        </div>
        <div class="col-auto">
          <button type="submit" class="btn btn-outline-light" id = "searchBtn">Find Temple</button>
        </div>
      </div>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./map.html">Temples</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./events.html">Events</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./main/blog.html">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          
          <li class="social-link d-none d-xl-block">
            <a class="nav-link" href="https://www.facebook.com/" target="_blank"><i
                class="fa-brands fa-facebook"></i></a>
          </li>
          <li class="social-link d-none d-xl-block">
            <a class="nav-link" href="https://www.instagram.com/" target="_blank"><i
                class="fa-brands fa-instagram"></i></i></a>
          </li>
          <li class="social-link d-none d-xl-block">
            <a class="nav-link" href="https://twitter.com/" target="_blank"><i class="fa-brands fa-twitter"></i></a>
          </li>
          <li class="social-link d-none d-xl-block">
            <a class="nav-link" href="https://www.pinterest.com/" target="_blank"><i
                class="fa-brands fa-pinterest"></i></a>
          </li>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <div class="container-fluid">
    
    <div class="card-container row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      <div class="col">
        <div class="card h-100">
          <img src="./images/yuelao.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">月下老人 </h5>
            <h5 class="card-title">Yue Xia Lao Ren</h5>
            <div class="separator small left" style="background-color: #494949;"></div>
            <p class="card-text">
              月下老人(Yue Xia Lao Ren or short for Yue-Lao) is a god of marriage and love in Chinese mythology.
              He appears as an old man under the moon. Believers worship Yue-Lao as the God of Marriage.
              When Yue-Lao ties a red string to a couple(牵红线), regardless of them being arch enemies, in times of
              riches, poverty or how far both are away from each other, as long as the red string is tied,
              they will definitely be husband and wife. Hence the Chinese saying, ‘marriage of a thousand miles bond by
              a string’.
            </p>
            <!-- <p class = "hidden-lat-lng">1.284284 , 103.849579</p> -->
          </div>
          <div class="card-footer">
            <!-- <small class="text-muted">Last updated 3 mins ago</small> -->
            <div class="post_info_author">
              <span class="post_info_author_name">Click to visit recommended temple</span>
              <!-- <span class="post_info_date">24 February, 2016</span> -->
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card h-100">
          <!-- <img src="..." class="card-img-top" alt="..."> -->
          <div class="card-body">
            <h5 class="card-title">Biggest Volcano Timelapse</h5>
            <div class="separator small left" style="background-color: #494949;"></div>
            <p class="card-text">VICE meets up with Joe Nickell, a longtime paranormal investigator who’s been
              called the real-life Scully.
              We travel with him to Roswell, NM on the called the real
            </p>
          </div>
          <div class="card-footer">
            <!-- <small class="text-muted">Last updated 3 mins ago</small> -->
            <div class="post_info_author">
              <img alt="Author Image"
                src="https://secure.gravatar.com/avatar/821dd3f641f1eb54a7401df3a82bf325?s=30&amp;d=mm&amp;r=g"
                srcset="https://secure.gravatar.com/avatar/821dd3f641f1eb54a7401df3a82bf325?s=60&amp;d=mm&amp;r=g 2x"
                class="avatar avatar-30 photo" width="30" height="30">
              <span class="post_info_author_name">Robert Altmany</span>
              <span class="post_info_date">24 February, 2016</span>
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card h-100">
          <!-- <img src="..." class="card-img-top" alt="..."> -->
          <div class="card-body">
            <h5 class="card-title">Inside the Protein Bar</h5>
            <div class="separator small left" style="background-color: #494949;"></div>
            <p class="card-text">VICE meets up with Joe Nickell, a longtime paranormal investigator who’s been
              called the real-life Scully.
              We travel with him to Roswell, NM on the called the real
            </p>
          </div>
          <div class="card-footer">
            <!-- <small class="text-muted">Last updated 3 mins ago</small> -->
            <div class="post_info_author">
              <img alt="Author Image"
                src="https://secure.gravatar.com/avatar/821dd3f641f1eb54a7401df3a82bf325?s=30&amp;d=mm&amp;r=g"
                srcset="https://secure.gravatar.com/avatar/821dd3f641f1eb54a7401df3a82bf325?s=60&amp;d=mm&amp;r=g 2x"
                class="avatar avatar-30 photo" width="30" height="30">
              <span class="post_info_author_name">Robert Altmany</span>
              <span class="post_info_date">24 February, 2016</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- End of card container -->
  <footer class="bg-dark text-center text-white">
    <!-- Grid container -->
    <div class="container p-4 pb-0">
      <!-- Section: Form -->
      <section class="">
        <form action="">
          <!--Grid row-->
          <div class="row d-flex justify-content-center">
            <!--Grid column-->
            <div class="col-auto">
              <p class="pt-2">
                <strong>Sign up for temple events notifications</strong>
              </p>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-md-5 col-12">
              <!-- Email input -->
              <div class="form-outline form-white mb-4">
                <input type="email" id="form5Example2" class="form-control" placeholder="username@email.com" />
                <label class="form-label" for="form5Example2">
                </label>
              </div>
            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-auto">
              <!-- Submit button -->
              <button type="submit" class="btn btn-outline-light mb-4">
                Subscribe
              </button>
            </div>
            <!-- footer social link -->
            <div class="footer-social d-lg-none">
              <a class="footer-social-link" style="padding-left: 0px;" href="https://www.facebook.com/"
                target="_blank"><i class="fa-brands fa-facebook"></i></a>

              <a class="footer-social-link" href="https://www.instagram.com/" target="_blank"><i
                  class="fa-brands fa-instagram"></i></i></a>

              <a class="footer-social-link" href="https://twitter.com/" target="_blank"><i
                  class="fa-brands fa-twitter"></i></a>

              <a class="footer-social-link" href="https://www.pinterest.com/" target="_blank"><i
                  class="fa-brands fa-pinterest"></i></a>
            </div>
            <!--Grid column-->
          </div>
          <!--Grid row-->
        </form>
      </section>
      <!-- Section: Form -->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 2022 Copyright:
      <a class="text-white" href="https://musicband.com/">templefinder.com</a>
    </div>
    <!-- Copyright -->
  </footer>

  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <!-- Axios Script -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"
  integrity="sha512-xIPqqrfvUAc/Cspuj7Bq0UtHNo/5qkdyngx6Vwt+tmbvTLDszzXM0G6c91LXmGrRx8KEPulT+AfOOez+TeVylg=="
  crossorigin="anonymous" referrerpolicy="no-referrer">
  </script>

  <script src = "./main/geocoding.js"></script>
  <!-- <script src = "./main/route.js"></script> -->

  <script>
    let cardSelector = document.querySelectorAll(".card")
    let search = document.querySelector("#searchBtn")
    let errMsg = createSearchErrorMsg()
    let isError = false
    let isErrorMsgReady = false
    

    search.addEventListener("click" , async () => {
      let num = document.querySelector("#search-bar").value
      let latlngArr = await geoCode("postcode" , num)
      if(latlngArr.length == 0){
        isError = true
      }
      else{
        isError = false
      }

      if(isError){
        if(!isErrorMsgReady){
          document.querySelector("#searchInput").appendChild(errMsg)
        }
        document.querySelector("#searchError").style.display = "block"
      }
      else{
        document.querySelector("#searchError").style.display = "none"
      }
    })

    let latlngRecords = [[1.284284 , 103.849579]]
    
    for (i = 0; i < cardSelector.length; i++) {
      let lat = latlngRecords[i][0]
      let lng = latlngRecords[i][1]

      cardSelector[i].addEventListener("click", () => {
        queryStr = `?lat=${lat}&lng=${lng}`
        location.href = "./map.html" + queryStr
        console.log(location.href)
      })
    }
  </script>
</body>

</html>